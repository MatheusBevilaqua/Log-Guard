<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogGuard - Dashboard</title>
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="css/partials/SideBar.css">
    <script src="js/sessao.js"></script>
    <script src="js/dashboard_ADM.js"></script>
    <link rel="shortcut icon" type="imagex/png" href="./img/logo_vetorizada6.png">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script> <!--apex-charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!--chartjs-->
</head>

<body onload="validarCargo();validarSessao()">
    <section class="page-dash">
        <nav id="sidebar">
            <div id="sidebar_content">

                <li class="side_itemLog active" style="cursor: none;">
                    <a>
                        <i><img src="img/logo_roxa.png" class="nav-dash-icon" style="height: 90px; width: 90px;"></i>
                        <span class="item-description">
                            <b style="color: #442BB3; margin-left: 15px;"> Log Guard </b>
                        </span>
                    </a>
                </li>


                <div id="user">
                    <p id="user_infos">
                        <span style="color: black;" class="item-descriptionAtivo"> Olá,
                            <span style="color: #442BB3;" class="item-description" id="b_usuario">
                                Jon Doe
                            </span>
                        </span>
                        <span class="item-description " id="cargo_usuario" style="color: #442BB3;">
                            Lorem Ipsum
                        </span>
                    </p>
                </div>

                <ul id="side_items">

                    <li class="side_item active">
                        <a href="dashboardFuncionario.html">
                            <i> <img src="./img/olho.png" class="nav-dash-icon" style="width: 25px;"> </i>
                            <span class="item-descriptionAtivo">
                                <b style="color: aliceblue;"> Visão Geral </b>
                            </span>
                        </a>
                    </li>

                    <li class="side_item">
                        <a href="relatorios.html">
                            <i> <img src="./img/icon-cnpj.png" class="nav-dash-icon"> </i>
                            <span class="item-description">
                                <b> Relatórios </b>
                            </span>
                        </a>
                    </li>

                    <li class="side_item">
                        <a href="gerenciar-maquina.html">
                            <i> <img src="./img/monitor.svg" class="nav-dash-icon"> </i>
                            <span class="item-description">
                                <b> Empresas </b>
                            </span>
                        </a>
                    </li>

                    <li class="side_item">
                        <a href="gerenciar-usuario-func.html">
                            <i> <img src="./img/icon-man.png" class="nav-dash-icon"> </i>
                            <span class="item-description">
                                <b> FeedBacks </b>
                            </span>
                        </a>
                    </li>

                    <li class="side_item">
                        <a href="dash_Gerenciamento_Operacao.html">
                            <i> <img src="img/engrenagem_Operacao.png" class="nav-dash-icon"> </i>
                            <span class="item-description">
                                <b> Operações </b>
                            </span>
                        </a>
                    </li>


                    <li>
                        <div class="counter">
                            <span id="counter" style="color: black;">00:00:00</span>
                        </div>
                    </li>



                    <li class="side_item">
                        <a href="#">
                            <i> <img src="./img/e-mail.png" class="nav-dash-icon" style="width: 25px;"> </i>
                            <span class="item-description">
                                <b> Ajuda </b>
                            </span>
                        </a>
                    </li>
                </ul>

                <button id="open_btn">
                    <i> <img src="./img/seta-direita.png" class="nav-dash-icon"> </i>
                </button>
            </div>

            <div id="logout">
                <button id="logout_btn" onclick="sair()">
                    <i> <img src="img/sair.png" class="nav-dash-icon"> </i>
                    <span class="item-description">
                        Sair
                    </span>
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-dash-adm">

            <!-- primeira sessão da página -->
            <div class="sessao1-adm">
                <p>DASHBOARD ADMINISTRADOR</p>
            </div>


            <div class="sessao-adm-modal-todos">
                <div class="sessao-adm-modal-card">
                    <button onclick="cancelar_modal()" class="sessao-adm-cancelar">X</button>

                    <!--MODAL-ALERTAS-->
                    <div class="sessao-adm-modal-alertas">

                        <p>ALERTAS SEMANAIS DE RISCO REFERENTE A SEMANA X</p>
                        <div class="sessao-adm-modal-alertas-table">
                            <table>
                                <tr>
                                    <th>Data</th>
                                    <th>Máquina</th>
                                    <th>Localidade</th>
                                    <th>Componente</th>
                                    <th>Alerta</th>
                                    <th>Parâmetro</th>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <!--MODAL-SERVIDORES-RISCO-->
                    <div class="sessao-adm-modal-riscos">
                        <p>MÁQUINAS EM RISCO REFERENTE A SEMANA X</p>
                        <div class="sessao-adm-modal-alertas-table">
                            <table>
                                <tr>
                                    <th>Máquina</th>
                                    <th>Localidade</th>
                                    <th>Quantidade de alertas</th>
                                </tr>
                            </table>
                        </div>
                    </div>


                    <!--MODAL-ANALISE-RISCOS-->
                    <div class="sessao-adm-modal-analise">
                        <div class="histogramChart" id="histogramChart"></div>
                    </div>

                </div>
            </div>

            <!-- segunda sessão da página -->
            <div class="sessao2-adm">
                <div class="sessao2-adm_frame1">

                    <p>Sessão de informações</p>

                    <!-- alertas -->
                    <div class="sessao1-adm_frame1">
                        <button onclick="abremodal(), abremodalalerta(); getAlertaSemana()"
                            class="sessao-adm-botao-click">
                            <p>➤</p>
                        </button>
                        <div class="sessao1-adm_frame1_texto">
                            <p>ALERTAS SEMANAIS DE RISCO</p>
                            <div class="sessao1-adm_frame1_texto_semana">
                                <p class="sessao1-adm_frame1_texto_semana_p1">SEG : <a
                                        class="sessao1-adm-cor-roxa-dados">X</a></p>
                                <p class="sessao1-adm_frame1_texto_semana_p2">TER : <a
                                        class="sessao1-adm-cor-roxa-dados">X</a></p>
                                <p class="sessao1-adm_frame1_texto_semana_p3">HOJE : <a
                                        class="sessao1-adm-cor-roxa-dados">X</a></p>
                            </div>
                        </div>
                    </div>
                    <!-- alertas -->

                    <!-- servidores -->
                    <div class="sessao1-adm_frame2">
                        <button onclick="abremodal(), abremodalrisco(), obterMaquinasEmRisco()"
                            class="sessao-adm-botao-click">
                            <p>➥</p>
                        </button>
                        <div class="sessao1-adm_frame2_alertas">
                            <p>SERVIDORES EM RISCO DESTA SEMANA</p>
                            <p class="sessao1-adm_frame1_texto_semana_p1">
                                <a class="sessao1-adm-cor-roxa-dados">X</a> de <a
                                    class="sessao1-adm-cor-roxa-dados">Y</a>
                            </p>
                        </div>
                    </div>
                    <!-- servidores -->

                    <!-- analise -->
                    <div class="sessao1-adm_frame3">
                        <button onclick="abremodal(), abremodalanalise()" class="sessao-adm-botao-click">
                            <p>➙</p>
                        </button>
                        <div class="sessao1-adm_frame2_alertas">
                            <p>ANÁLISE DOS RISCOS SEMANAIS</p>
                        </div>
                    </div>
                    <!-- analise -->

                </div>

                <div class="sessao2-adm_frame2">
                    <div class="sessao2-adm_frame2-titulo">
                        <p>PROBABILIDADE DE RISCOS</p>
                        <button class="sessao-adm-pointer-cpu-sessao2" onclick="cpu_adm_probabilidade()"> CPU</button>
                        <button class="sessao-adm-pointer-ram-sessao2" onclick="ram_adm_probabilidade()"> RAM</button>
                        <button class="sessao-adm-pointer-disco-sessao2" onclick="disco_adm_probabilidade()"> DISCO</button>


                    </div>

                    <div class="probabilityChartCPU">
                        <div id="probabilityChart">
                        </div>

                    </div>

                    <div class="probabilityChartRAM">
                        <div id="probabilityChartR">
                        </div>

                    </div>

                    <div class="probabilityChartDISCO">
                        <div id="probabilityChartD">
                        </div>

                    </div>


                </div>

            </div>

            <!-- terceira sessão da página -->
            <div class="sessao3-adm">
                <div class="sessao3-adm-titulo">
                    <p>DESEMPENHO QUINZENAL: DADOS DIÁRIOS</p>
                    <button class="sessao-adm-pointer-cpu-sessao3" onclick="cpu_adm_sessao3()">Uso de CPU</button>
                    <button class="sessao-adm-pointer-ram-sessao3" onclick="ram_adm_sessao3()">Uso de RAM</button>
                    <button class="sessao-adm-pointer-rede-sessao3" onclick="rede_adm_sessao3()">Status de REDE</button>
                </div>
                <div class="chart-container">
                    <div class="sessao-adm-chartram-dado" id="chartRAM"></div>

                    <div class="sessao-adm-chartrede-dado" id="chartREDE"></div>
                    <div class="sessao-adm-chartcpu-dado" id="chartCPU"></div>
                </div>


            </div>


        </main>

        <script src="js/contador.js"></script>
        <script>

            //barra lateral
            document.getElementById('open_btn').addEventListener('click', function () {
                document.getElementById('sidebar').classList.toggle('open-sidebar');
            });




            function sair() {
                localStorage.removeItem('timerTime'); // Limpa o tempo armazenado
                // Ação de logout


                var url = "index.html";
                window.open(url, "_self")

            } 
        </script>