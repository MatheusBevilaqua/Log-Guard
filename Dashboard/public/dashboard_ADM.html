<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogGuard - Dashboard</title>
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="css/partials/SideBar.css">
    <script src="js/sessao.js"></script>
    <link rel="shortcut icon" type="imagex/png" href="./img/logo_vetorizada6.png">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script> <!--apex-charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!--chartjs-->
</head>

<body onload="validarCargo();validarSessao()">
    <section class="page-dash">
        <nav id="sidebar">
            <div id="sidebar_content">
                <div id="user">
                    <img src="https://apexensino.com.br/wp-content/uploads/2019/02/iStock-1017296544-1024x683.jpg"
                        id="user_avatar" alt="Avatar">

                    <p id="user_infos">
                        <span class="item-description" id="b_usuario">
                        </span>
                        <span class="item-description " id="cargo_usuario" style="color: #442BB3;">
                            Lorem Ipsum
                        </span>
                    </p>

                </div>

                <ul id="side_items">
                    <li class="side_item active">
                        <a style="cursor: auto;">
                            <i><img src="img/logo_vetorizada6.png" class="nav-dash-icon"
                                    style="height: 40px; width: 40px;"></i>
                            <span class="item-description">
                                <b style="color: white;"> LOG GUARD </b>
                            </span>
                        </a>
                    </li>

                    <li class="side_item">
                        <a href="dashboard_ADM.html">
                            <i> <img src="./img/olho.png" class="nav-dash-icon" style="width: 25px;"> </i>
                            <span class="item-description">
                                <b> Visão Geral </b>
                            </span>
                        </a>
                    </li>

                    <li class="side_item">
                        <a href="relatorios.html">
                            <i> <img src="./img/icon-cnpj.png" class="nav-dash-icon"> </i>
                            <span class="item-description">
                                <b> Relatórios </b>
                            </span>
                        </a>
                    </li>

                    <li class="side_item">
                        <a href="gerenciar-maquina.html">
                            <i> <img src="./img/monitor.svg" class="nav-dash-icon"> </i>
                            <span class="item-description">
                                <b> Máquinas </b>
                            </span>
                        </a>
                    </li>

                    <li class="side_item">
                        <a href="gerenciar-usuario-func.html">
                            <i> <img src="./img/icon-man.png" class="nav-dash-icon"> </i>
                            <span class="item-description">
                                <b> Funcionários </b>
                            </span>
                        </a>
                    </li>

                    <li class="side_item">
                        <a href="#">
                            <i> <img src="./img/e-mail.png" class="nav-dash-icon" style="width: 25px;"> </i>
                            <span class="item-description">
                                <b> Ajuda </b>
                            </span>
                        </a>
                    </li>

                    <!-- <li class="side_item"> 
                        <a href="#">
                            <i class="fa-solid fa-gear"></i>
                            <span class="item-description"> 
                                <b> </b>
                            </span>    
                        </a>
                    </li> -->
                </ul>

                <button id="open_btn">
                    <i> <img src="./img/seta-direita.png" class="nav-dash-icon"> </i>
                </button>
            </div>

            <div id="logout">
                <button id="logout_btn" onclick="sair()">
                    <i> <img src="img/sair.png" class="nav-dash-icon"> </i>
                    <span class="item-description">
                        Sair
                    </span>
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-dash-adm">

            <!-- primeira sessão da página -->
            <div class="sessao1-adm">
                <div class="sessao1-adm_frame1">
                    <button onclick="abremodal()" class="sessao-adm-botao-click"><</button>
                    <div class="sessao1-adm_frame1_texto">
                        <p>ALERTAS SEMANAIS DE RISCO</p>
                        <div class="sessao1-adm_frame1_texto_semana">
                            <p class="sessao1-adm_frame1_texto_semana_p1">SEG : <a class="sessao1-adm-cor-roxa-dados">X</a></p>
                            <p class="sessao1-adm_frame1_texto_semana_p2">TER : <a class="sessao1-adm-cor-roxa-dados">X</a></p>
                            <p class="sessao1-adm_frame1_texto_semana_p3">HOJE : <a class="sessao1-adm-cor-roxa-dados">X</a></p>
                        </div>
                    </div>
                </div>
                <div class="sessao1-adm_frame2">
                    <button onclick="abremodal()" class="sessao-adm-botao-click"><</button>
                    <div class="sessao1-adm_frame2_alertas">
                        <p>SERVIDORES EM RISCO SEMANALMENTE</p>
                        <p class="sessao1-adm_frame1_texto_semana_p1">
                            <a class="sessao1-adm-cor-roxa-dados">X</a> de <a class="sessao1-adm-cor-roxa-dados">Y</a>
                        </p>
                    </div>
                    
                </div>
                <div class="sessao1-adm_frame3">
                    <button onclick="abremodal()" class="sessao-adm-botao-click"><</button>
                    <div class="sessao1-adm_frame2_alertas">
                        <p>ANÁLISE DOS RISCOS SEMANAIS</p>
                    </div>
                </div>
            </div>

            <!--MODAL-ALERTAS-->
            <div class="sessao-adm-modal-alertas">
                <div class="sessao-adm-modal-card">
                    <button onclick="cancelar_modal()" class="sessao-adm-cancelar">X</button>
                </div>
                
            </div>

            <!--MODAL-SERVIDORES-RISCO-->
            <div class="sessao-adm-modal-riscos">

            </div>

            <!--MODAL-ANALISE-RISCOS-->
            <div class="sessao-adm-modal-analises">
                <!-- <canvas id="histogramChart" width="400" height="200"></canvas> <script src="histogram.js"></script> -->
            </div>





            <!-- segunda sessão da página -->
            <div class="sessao2-adm">
                <div class="sessao2-adm_frame1">
                    <div class="sessao2-adm_frame1-titulo">
                        <p>RECOMENDAÇÕES</p>
                    </div>
                    
                </div>

                <div class="sessao2-adm_frame2">
                    <div class="sessao2-adm_frame2-titulo">
                        <p>PROBABILIDADE DE RISCOS</p>
                        <p class="sessao-adm-pointer-disco-sessao2">< DISCO</p>
                        <p class="sessao-adm-pointer-cpu-sessao2">< CPU</p>
                        <p class="sessao-adm-pointer-ram-sessao2">< RAM</p>
                    </div>
                    <div id="probabilityChart"></div>
                </div>

            </div>

            <!-- terceira sessão da página -->
            <div class="sessao3-adm">
                <div class="sessao3-adm-titulo">
                    <p>DESEMPENHO QUINZENAL: DADOS DIÁRIOS</p>
                    <p onclick="cpu_adm_sessao3()" class="sessao-adm-pointer-cpu-sessao3">< Uso de CPU</p>
                    <p onclick="ram_adm_sessao3()" class="sessao-adm-pointer-ram-sessao3">< Uso de RAM</p>
                    <p onclick="rede_adm_sessao3()" class="sessao-adm-pointer-rede-sessao3">< Status de REDE</p>
                </div>
                <div class="sessao3-adm-titulo_mapacalor">
                    <div class="chart-container"> 
                        <div class="sessao-adm-chartram-dado" id="chartRAM"></div>\
                        <div class="sessao-adm-chartrede-dado" id="chartREDE"></div>
                        <div class="sessao-adm-chartcpu-dado" id="chartCPU"></div>
                     </div>
                </div>
            </div>


        </main>
        <script>
            //barra lateral
            document.getElementById('open_btn').addEventListener('click', function () {
                document.getElementById('sidebar').classList.toggle('open-sidebar');
            });

            function sair() {
                window.location.href = "index.html";
            }
            //barra lateral

            //a
                function abremodal() {
                    document.querySelector('.sessao-adm-modal-alertas').style.display = "flex";
                    document.querySelector('.sessao-adm-modal-card').style.display = "flex";
                }

                function cancelar_modal() {
                    document.querySelector('.sessao-adm-modal-alertas').style.display = "none";
                    document.querySelector('.sessao-adm-modal-card').style.display = "none";
                }
            //a

            //b
            
                function cpu_adm_sessao3(){
                    document.querySelector('.sessao-adm-chartcpu-dado').style.display = "flex";
                    document.querySelector('.sessao-adm-chartram-dado').style.display = "none";
                    document.querySelector('.sessao-adm-chartrede-dado').style.display = "none";
                }

                function ram_adm_sessao3(){
                    document.querySelector('.sessao-adm-chartcpu-dado').style.display = "none";
                    document.querySelector('.sessao-adm-chartram-dado').style.display = "flex";
                    document.querySelector('.sessao-adm-chartrede-dado').style.display = "none";
                }

                function rede_adm_sessao3(){
                    document.querySelector('.sessao-adm-chartcpu-dado').style.display = "none";
                    document.querySelector('.sessao-adm-chartram-dado').style.display = "none";
                    document.querySelector('.sessao-adm-chartrede-dado').style.display = "flex";
                }

            //b



            //MAPA DE CALOR
          
        



        



        //ram
        document.addEventListener('DOMContentLoaded', function () {
    var optionsRAM = {
        chart: {
            height: 230,
            width: 1200,
            type: 'heatmap',
        },
        series: [
            {
                name: 'Maquina HGL-23',
                data: generateDataForDays(15)
            },
            {
                name: 'Maquina HGL-77',
                data: generateDataForDays(15)
            },
            {
                name: 'Maquina HGL-88',
                data: generateDataForDays(15)
            },
            {
                name: 'Maquina HGL-99',
                data: generateDataForDays(15)
            },
            {
                name: 'Maquina HGL-100',
                data: generateDataForDays(15)
            }
        ],
        plotOptions: {
            heatmap: {
                shadeIntensity: 0.5,
                colorScale: {
                    ranges: [
                        {
                            from: 0,
                            to: 38,
                            name: 'Baixo',
                            color: '#a69cd6'
                        },
                        {
                            from: 38,
                            to: 70,
                            name: 'Médio',
                            color: '#7265b3'
                        },
                        {
                            from: 70,
                            to: 90,
                            name: 'Alto',
                            color: '#442BB3'
                        },
                        {
                            from: 90,
                            to: 100,
                            name: 'Muito Alto',
                            color: '#2b1f64'
                        }
                    ]
                }
            }
        },
        xaxis: {
            type: 'category',
        },
        tooltip: {
            theme: 'dark'
        },
        legend: {
            position: 'right',
            horizontalAlign: 'center'
        }
    };

    function generateDataForDays(days) {
        const data = [];
        const month = '11'; // Mês fixo de Novembro

        for (let i = 1; i <= days; i++) {
            const date = `${String(i).padStart(2, '0')}/${month}`;
            const value = Math.floor(Math.random() * 100); // Valores aleatórios entre 0 e 100
            data.push({ x: date, y: value });
        }

        return data;
    }

    var chartRAM = new ApexCharts(document.querySelector("#chartRAM"), optionsRAM);
    chartRAM.render();
});
        //ram




            //MAPA DE CALOR



            

        </script>


<script>
    //cpu
    document.addEventListener('DOMContentLoaded', function () {
            var optionsCPU = {
                chart: {
                    height: 190,
                    width: 1200,
                    type: 'heatmap',
                },
                series: [
                    {
                        name: 'Maquina HBL-23',
                        data: [
                            { x: '01/11', y: 60 },
                        ],
                    },
                    {
                        name: 'Maquina HBL-77',
                        data: [
                            { x: '01/11', y: 60 },
                        ],
                    },
                ],
                plotOptions: {
                    heatmap: {
                        shadeIntensity: 0.5,
                        colorScale: {
                            ranges: [
                                {
                                    from: 0,
                                    to: 38,
                                    name: 'Baixo',
                                    color: '#a69cd6'
                                },
                                {
                                    from: 38,
                                    to: 70,
                                    name: 'Médio',
                                    color: '#7265b3'
                                },
                                {
                                    from: 70,
                                    to: 90,
                                    name: 'Alto',
                                    color: '#442BB3'
                                },
                                {
                                    from: 90,
                                    to: 100,
                                    name: 'Muito Alto',
                                    color: '#2b1f64'
                                }
                            ]
                        }
                    }
                },
                xaxis: {
                    type: 'category',
                },
                tooltip: {
                theme: 'dark'
                },
                legend: {
                    position: 'right',
                    horizontalAlign: 'center'
                }
            };

            var chartCPU = new ApexCharts(document.querySelector("#chartCPU"), optionsCPU);
            chartCPU.render();
        });
        //cpu
</script>


        <script>
            // GRAFICO PROBABILIDADE
            document.addEventListener('DOMContentLoaded', function () {
                var options = {
                    chart: {
                        type: 'line',
                        height: 200,
                        width: 675
                    },
                    series: [{
                        color: '#442BB3',
                        name: 'Probabilidade',
                        data: [0.05, 0.1, 0.15, 0.25, 0.4, 0.6, 0.75, 0.9, 0.9] // Dados de exemplo
                    }],
                    xaxis: {
                        categories: ['Evento1', 'Evento2', 'Evento3', 'Evento4', 'Evento5', 'Evento6', 'Evento7', 'Evento8','Evento9'] // Eventos de exemplo
                    },
                tooltip: {
                theme: 'dark',
                },
            };
            

                var chart = new ApexCharts(document.querySelector("#probabilityChart"), options);

                chart.render();
            });
             // GRAFICO PROBABILIDADE
        </script>
        
        <script>
            //rede
        document.addEventListener('DOMContentLoaded', function () {
            var optionsREDE = {
                chart: {
                    height: 200,
                    width: 1200,
                    type: 'heatmap',
                },
                series: [
                    {
                        name: 'Maquina HGL-23',
                        data: [
                            { x: '01/11', y: 60 },
                        ],
                    },
                    {
                        name: 'Maquina HGL-77',
                        data: [
                            { x: '01/11', y: 60 },
                        ],
                    },
                ],
                plotOptions: {
                    heatmap: {
                        shadeIntensity: 0.5,
                        colorScale: {
                            ranges: [
                                {
                                    from: 0,
                                    to: 38,
                                    name: 'Baixo',
                                    color: '#a69cd6'
                                },
                                {
                                    from: 38,
                                    to: 70,
                                    name: 'Médio',
                                    color: '#7265b3'
                                },
                                {
                                    from: 70,
                                    to: 90,
                                    name: 'Alto',
                                    color: '#442BB3'
                                },
                                {
                                    from: 90,
                                    to: 100,
                                    name: 'Muito Alto',
                                    color: '#2b1f64'
                                }
                            ]
                        }
                    }
                },
                xaxis: {
                    type: 'category',
                },
                tooltip: {
                theme: 'dark'
                },
                legend: {
                    position: 'right',
                    horizontalAlign: 'center'
                }
            };

            var chartREDE = new ApexCharts(document.querySelector("#chartREDE"), optionsREDE);
            chartREDE.render();
        });
        //rede
        </script>

        <script>
            //MYCHART JS
            const ctx = document.getElementById('histogramChart').getContext('2d');

            const labels = ['Server1', 'Server2', 'Server3', 'Server4', 'Server5'];
            const data = {
                labels: labels,
                datasets: [{
                    label: 'Irregularidades',
                    data: [12, 19, 3, 5, 2],
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }]
            };

            const config = {
                type: 'bar',
                data: data,
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            };

            const histogramChart = new Chart(ctx, config);
            //MYCHART JS
        </script>