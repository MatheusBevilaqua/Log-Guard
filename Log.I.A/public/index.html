<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogGuard - Dashboard</title>
    <link rel="stylesheet" href="./css/main.css">
    <link rel="shortcut icon" type="images/png" href="../../public/svg/iceberg-icon.svg">
</head>

<body style="background-color: #e3e3e3;">

    <section class="page-dash">
        <aside class="nav-dash">
            <div class="nav-dash-logo">
                <img src="./svg/iceberg-preto-com-texto.svg" class="nav-dash-logo" alt="Logo LogGuard">
            </div>
            <ul class="nav-dash-list">
                <a href="dashboard_ADM.html">
                <li class="nav-dash-link" href=""><img src="./svg/key-icon.svg" class="nav-dash-icon" style="padding-left: 3%;">Visão
                        Geral</li>
                </a>
                <a href="relatorios.html">
                <li class="nav-dash-link"><img src="./img/icon-cnpj.png" class="nav-dash-icon" style="padding-left: 3%;">Relatórios
                    </li>
                </a>
                <a href="gerenciar-maquina.html">
                <li class="nav-dash-link"><img src="./img/monitor.svg" class="nav-dash-icon" style="padding-left: 3%;">Máquinas</li>
                </a>
                <a href="gerenciar-usuario-func.html">
                    <li class="nav-dash-link"><img src="./img/icon-man.png" class="nav-dash-icon">Funcionários</li>
                </a>
                <a href="index.html">
                <li class="nav-dash-link-sair"><img src="./img/sair.png" class="nav-dash-icon" style="padding-left: 3%;">Sair</li>
                </a>
            </ul>
            </nav>
            </nav>
        </aside>
        <main class="main-dash-page">

            <div class="main-dash-card-IA">
                <h4>Recomendação de prioridade</h4>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis
                    nostrud
                    exercitation
                    ullamco laboris nisi ut aliquip ex ea commodo consequat.
                </p>
            </div>

            <div class="main-dash-right-relatorios">
                <h2>Gerar relatórios por I.A</h2>
                <button class="main-dash-right-botao" onclick="gerarResposta()">Gerar Relatório</button>
                <div class="resposta-IA">

                    <h3>Resposta:</h3>
                    <div id="resposta" class="resposta-IA"></div>

                </div>

            </div>


        </main>
    </section>
</body>

<script>

    async function gerarResposta() {
        const pergunta = "Me explique como é desenvolvido um relatório por Inteligência artificial";

        const response = await fetch('/perguntar', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ pergunta })
        });

        const data = await response.json();

        resposta.style.display = 'block';
        document.getElementById('resposta').innerText = data.resultado;
    }

</script>

</html>